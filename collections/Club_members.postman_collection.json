{
	"info": {
		"_postman_id": "93c75ec1-7851-4254-873a-6b5a3061f080",
		"name": "Club_members",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "30672163",
		"_collection_link": "https://dreamteam-6072.postman.co/workspace/APIS_MISO~786423a7-8483-4bf6-8560-d86f35280edf/collection/30672163-93c75ec1-7851-4254-873a-6b5a3061f080?action=share&source=collection_link&creator=30672163"
	},
	"item": [
		{
			"name": "Crear un socio válido",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var data = pm.response.json()\r",
							"pm.globals.set(\"idSocio\", data.id);\r",
							"\r",
							"pm.test(\"Status code is 201\", function () {\r",
							"   pm.response.to.have.status(201);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\": \"Juan Pérez\",\r\n    \"mail\": \"juan.perez@example.com\",\r\n    \"birthdate\": \"1990-02-12\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/members/",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"members",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Crear un club válido",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var data = pm.response.json()\r",
							"pm.globals.set(\"idClub\", data.id);\r",
							"\r",
							"pm.test(\"Status code is 201\", function () {\r",
							"   pm.response.to.have.status(201);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\": \"Club de Lectura\",\r\n    \"foundationDate\": \"2020-01-01\",\r\n    \"image\": \"https://example.com/club-lectura-logo.png\",\r\n    \"description\": \"Un club de lectura para amantes de la literatura\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/clubs/",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"clubs",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Agregar un socio a un club",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 201\", function () {\r",
							"   pm.response.to.have.status(201);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/clubs/{{idClub}}/members/{{idSocio}}",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"clubs",
						"{{idClub}}",
						"members",
						"{{idSocio}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Asociar un socio que no existe a un club",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 404\", function () {\r",
							"    pm.response.to.have.status(404);\r",
							"});\r",
							"\r",
							"pm.test(\"Get expected error message\", function () {\r",
							"    var data = pm.response.json();\r",
							"    pm.expect(data.message).to.be.eqls(\"El socio no existe\");\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\": \"Club de Lectura\",\r\n    \"foundationDate\": \"2020-01-01\",\r\n    \"image\": \"https://example.com/club-lectura-logo.png\",\r\n    \"description\": \"Un club de lectura para amantes de la literatura. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non risus. Suspendisse lectus tortor, dignissim sit amet, adipiscing nec, ultricies sed, dolor. Cras elementum ultrices diam. Maecenas ligula massa, varius a, semper congue, euismod non, mi. Proin porttitor, nibh faucibus ornare condimentum, eros pede semper est, vitae luctus diam volutpat quam. Etiam rhoncus.\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/clubs/{{idClub}}/members/00000000-0000-0000-0000-000000000000",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"clubs",
						"{{idClub}}",
						"members",
						"00000000-0000-0000-0000-000000000000"
					]
				}
			},
			"response": []
		},
		{
			"name": "Obtener todos los socios de un club",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test('Number of members > ' + 0, function () {\r",
							"   var data = pm.response.json()\r",
							"   pm.expect(data.length).to.greaterThan(0)\r",
							"});\r",
							"\r",
							"pm.test(\"Status code is 200\", function () {\r",
							"   pm.response.to.have.status(200);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/clubs/{{idClub}}/members/",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"clubs",
						"{{idClub}}",
						"members",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Obtener un socio que pertenece a un club",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"   pm.response.to.have.status(200);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/clubs/{{idClub}}/members/{{idSocio}}",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"clubs",
						"{{idClub}}",
						"members",
						"{{idSocio}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Crear un socio válido",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var data = pm.response.json()\r",
							"pm.globals.set(\"idOtroSocio\", data.id);\r",
							"\r",
							"pm.test(\"Status code is 201\", function () {\r",
							"   pm.response.to.have.status(201);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\": \"Juan Pérez\",\r\n    \"mail\": \"juan.perez@example.com\",\r\n    \"birthdate\": \"1990-02-12\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/members/",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"members",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Obtener un socio que no es parte un club",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 404\", function () {\r",
							"    pm.response.to.have.status(404);\r",
							"});\r",
							"\r",
							"pm.test(\"Get expected error message\", function () {\r",
							"    var data = pm.response.json();\r",
							"    pm.expect(data.message).to.be.eqls(\"El socio no es parte del club\");\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/clubs/{{idClub}}/members/{{idOtroSocio}}",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"clubs",
						"{{idClub}}",
						"members",
						"{{idOtroSocio}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Actualizar los socios que pertenecen a un club",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 200\", function () {\r",
							"   pm.response.to.have.status(200);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "[\r\n    \"{{idSocio}}\",\r\n    \"{{idOtroSocio}}\"\r\n]",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/clubs/{{idClub}}/members",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"clubs",
						"{{idClub}}",
						"members"
					]
				}
			},
			"response": []
		},
		{
			"name": "Actualizar los socios de un club, con un socio inexistente",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 404\", function () {\r",
							"    pm.response.to.have.status(404);\r",
							"});\r",
							"\r",
							"pm.test(\"Get expected error message\", function () {\r",
							"    var data = pm.response.json();\r",
							"    pm.expect(data.message).to.be.eqls(\"Uno de los socios no existe\");\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "[\r\n    \"{{idSocio}}\",\r\n    \"00000000-0000-0000-0000-000000000000\"\r\n]",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/clubs/{{idClub}}/members",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"clubs",
						"{{idClub}}",
						"members"
					]
				}
			},
			"response": []
		},
		{
			"name": "Crear un socio válido",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var data = pm.response.json()\r",
							"pm.globals.set(\"idOtroSocio\", data.id);\r",
							"\r",
							"pm.test(\"Status code is 201\", function () {\r",
							"   pm.response.to.have.status(201);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"name\": \"Juan Pérez\",\r\n    \"mail\": \"juan.perez@example.com\",\r\n    \"birthdate\": \"1990-02-12\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/members/",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"members",
						""
					]
				}
			},
			"response": []
		},
		{
			"name": "Eliminar un socio que es parte de un club",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 204\", function () {\r",
							"   pm.response.to.have.status(204);\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/clubs/{{idClub}}/members/{{idSocio}}",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"clubs",
						"{{idClub}}",
						"members",
						"{{idSocio}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Eliminar un socio que no es parte de un club",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Status code is 404\", function () {\r",
							"    pm.response.to.have.status(404);\r",
							"});\r",
							"\r",
							"pm.test(\"Get expected error message\", function () {\r",
							"    var data = pm.response.json();\r",
							"    pm.expect(data.message).to.be.eqls(\"El socio no es parte del club\");\r",
							"});"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{Base_url}}/clubs/{{idClub}}/members/{{idOtroSocio}}",
					"host": [
						"{{Base_url}}"
					],
					"path": [
						"clubs",
						"{{idClub}}",
						"members",
						"{{idOtroSocio}}"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "Base_url",
			"value": "http://localhost:3000",
			"type": "string"
		}
	]
}